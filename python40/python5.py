import timeit

lst = [977, 37, 672, 19, 905, 230, 856, 437, 734, 555, 871, 524, 383, 228, 354, 351, 853, 581, 558, 868, 658, 743, 60, 732, 981, 643, 853, 692, 980, 373, 902, 924, 583, 918, 823, 938, 950, 957, 948, 183, 364, 519, 309, 584, 238, 929, 485, 844, 682, 660, 705, 836, 889, 983, 985, 424, 988, 577, 852, 90, 308, 247, 408, 629, 204, 524, 546, 633, 636, 884, 77, 105, 81, 607, 137, 400, 197, 493, 458, 952, 935, 39, 424, 451, 332, 138, 264, 104, 185, 111, 589, 39, 710, 802, 143, 743, 797, 857, 121, 263, 8, 53, 946, 501, 523, 722, 81, 825, 201, 528, 15, 776, 613, 342, 201, 864, 974, 316, 774, 416, 232, 585, 867, 236, 499, 813, 116, 648, 695, 344, 922, 671, 178, 168, 89, 482, 433, 908, 703, 384, 840, 909, 104, 399, 46, 445, 641, 650, 614, 746, 84, 192, 985, 404, 752, 976, 245, 119, 165, 126, 147, 208, 973, 496, 835, 386, 28, 956, 984, 491, 923, 406, 121, 712, 99, 712, 583, 122, 648, 17, 448, 840, 394, 792, 256, 664, 506, 669, 219, 243, 881, 334, 491, 954, 663, 843, 383, 613, 829, 888, 166, 685, 705, 305, 821, 916, 584, 538, 593, 911, 530, 559, 712, 394, 796, 584, 653, 392, 564, 455, 680, 365, 816, 535, 248, 478, 7, 760, 734, 946, 342, 999, 850, 315, 162, 164, 197, 882, 11, 331, 62, 218, 282, 944, 290, 723, 274, 209, 315, 803, 165, 660, 10, 308, 720, 649, 831, 745, 567, 200, 184, 996, 742, 660, 430, 339, 452, 180, 406, 958, 812, 140, 742, 774, 340, 674, 819, 148, 358, 218, 359, 427, 599, 612, 626, 353, 350, 841, 703, 534, 212, 74, 996, 239, 469, 996, 637, 757, 771, 302, 996, 789, 777, 307, 953, 576, 929, 352, 627, 216, 247, 418, 573, 809, 777, 518, 673, 486, 399, 697, 117, 629, 669, 302, 760, 548, 282, 52, 526, 833, 10, 519, 485, 848, 690, 186, 583, 73, 177, 859, 392, 555, 709, 423, 861, 192, 140, 106, 369, 402, 362, 992, 103, 258, 670, 641, 664, 395, 907, 970, 446, 416, 840, 281, 47, 789, 689, 527, 678, 842, 762, 175, 194, 287, 734, 836, 940, 211, 30, 434, 993, 12, 758, 620, 809, 365, 659, 611, 198, 950, 164, 648, 772, 41, 367, 432, 898, 154, 974, 169, 348, 863, 919, 197, 317, 641, 881, 522, 970, 189, 779, 654, 269, 752, 812, 820, 468, 662, 868, 163, 92, 649, 691, 973, 644, 162, 892, 112, 317, 333, 903, 568, 100, 801, 881, 599, 644, 429, 921, 187, 315, 440, 115, 718, 471, 35, 984, 215, 184, 77, 688, 811, 104, 804, 143, 108, 520, 973, 8, 151, 173, 167, 282, 505, 731, 345, 344, 556, 283, 54, 506, 107, 734, 980, 975, 643, 936, 165, 178, 184, 976, 169, 646, 257, 482, 358, 383, 393, 857, 664, 160, 942, 863, 148, 674, 515, 190, 109, 203, 149, 965, 915, 527, 761, 700, 540, 213, 213, 340, 967, 246, 500, 162, 538, 759, 645, 380, 279, 401, 44, 340, 700, 122, 362, 23, 238, 28, 105, 905, 774, 851, 17, 180, 867, 409, 274, 229, 956, 542, 363, 84, 983, 616, 964, 46, 607, 674, 256, 824, 325, 263, 244, 813, 409, 845, 438, 864, 703, 817, 299, 372, 816, 3, 780, 832, 876, 99, 301, 823, 514, 586, 442, 555, 858, 250, 820, 269, 588, 958, 492, 44, 629, 722, 479, 901, 551, 637, 612, 239, 408, 796, 475, 490, 758, 458, 522, 494, 301, 304, 406, 231, 962, 633, 0, 936, 309, 558, 990, 664, 772, 635, 243, 252, 868, 259, 301, 657, 469, 624, 529, 763, 123, 110, 844, 525, 138, 551, 751, 955, 966, 798, 615, 886, 829, 620, 516, 412, 334, 215, 286, 175, 148, 6, 213, 157, 803, 1, 226, 753, 369, 450, 881, 213, 665, 977, 712, 41, 69, 97, 106, 873, 882, 552, 697, 536, 308, 647, 953, 864, 874, 771, 584, 898, 66, 885, 554, 265, 128, 871, 439, 244, 318, 336, 799, 742, 189, 676, 292, 943, 511, 113, 23, 213, 446, 493, 703, 123, 45, 289, 919, 36, 515, 886, 62, 690, 557, 600, 809, 331, 910, 638, 541, 496, 214, 43, 112, 978, 547, 973, 810, 441, 340, 536, 105, 821, 637, 18, 882, 740, 4, 335, 104, 716, 795, 649, 418, 716, 721, 980, 350, 150, 469, 145, 87, 258, 703, 923, 911, 369, 638, 884, 440, 583, 867, 721, 662, 454, 623, 897, 744, 367, 3, 693, 372, 260, 64, 117, 720, 108, 443, 827, 83, 792, 237, 205, 27, 703, 785, 925, 530, 300, 807, 478, 853, 289, 141, 550, 649, 878, 179, 965, 87, 917, 244, 250, 243, 606, 331, 289, 232, 351, 656, 395, 76, 595, 259, 692, 580, 309, 695, 478, 613, 988, 852, 331, 706, 225, 227, 180, 332, 805, 462, 396, 972, 554, 569, 379, 301, 439, 553, 150, 157, 889, 44, 160, 670, 607, 189, 300, 822, 366, 127, 930, 922, 545, 875, 595, 459, 483, 671, 865, 870, 863, 955, 910, 196, 635, 382, 3, 164, 100, 245, 52, 948, 490, 49, 384, 8, 173, 974, 201, 309, 99, 75, 242, 117, 390, 993, 169, 449, 35, 741, 884, 343, 715, 517, 707, 870, 170, 126, 288, 406, 446, 548, 614, 518, 213, 161, 104, 322, 915, 875, 798, 741, 274, 487, 920, 146, 913, 438, 241, 144, 462, 618, 958, 472, 993, 618, 260, 325, 37, 216, 324, 273, 562, 305, 578, 668, 514, 947, 379, 33, 44, 983, 722, 877, 74, 485, 1, 775, 842, 214, 851, 806, 18, 511, 211, 686, 191, 723, 795, 289, 13, 642, 964, 771, 286, 203, 261, 74, 242, 712, 476, 671, 52, 628, 475, 225, 47, 864, 172, 449, 770, 646, 545, 713, 617, 521, 85, 672, 11, 772, 780, 187, 150, 35, 530, 129, 580, 753, 726, 630, 635, 337, 862, 684, 168, 39, 784]


def highest_product_of_three(lst):
    highest = max(lst[0], lst[1])
    lowest = min(lst[0], lst[1])
    highest_product_of_two = lst[0] * lst[1]
    lowest_product_of_two = lst[0] * lst[1]
    highest_product_of_three = lst[0] * lst[1] * lst[2]
    for i in range(2, len(lst)):
        current = lst[i]
        highest_product_of_three = max(highest_product_of_three, current * highest_product_of_two, current * lowest_product_of_two)
        highest_product_of_two = max(highest_product_of_two, current * highest, current * lowest)
        lowest_product_of_two = min(lowest_product_of_two, current * highest, current * lowest)
        highest = max(highest, current)
        lowest = min(lowest, current)
    return highest_product_of_three

start = timeit.default_timer()
print(highest_product_of_three(lst))
print("The difference of time is :",
              timeit.default_timer() - start)